<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../boostrap.css" />
    <link rel="stylesheet" href="../imports/css/all.css" />
    <link rel="stylesheet" href="../IRIS.css" />
    <title>Teletek Manager</title>
</head>
<body>
    <div class="container" id="divMain">
        <form action="">
            <!-- IMPORTANT When disable input, put class .disabled in the .form-item class -->

            <div class="form-item roww">
                <label for="keep_alive_msg">Keep alive message (seconds)</label>
                <input class="ml10"
                       type="number"
                       id="keep_alive_msg"
                       name="keep_alive_msg"
                       data-maxlength="3"
                       oninput="javascript: myFunction(this.id)"
                       onblur="javascript: myFunction2(this.id)"
                       placeholder="1"
                       min="1"
                       max="200" />
            </div>
            <fieldset>
                <legend>Main Receiver</legend>
                <div class="row m-1">
                    <div class="col">
                        <div class="form-item roww disabled">
                            <label for="main_receiver_name">Main Receiver</label>
                            <input type="text" id="main_receiver_name" name="main_receiver_name" maxlength="32" />
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-item roww">
                            <label for="main_receiver">Enable Main Receiver</label>
                            <input type="checkbox" id="main_receiver" name="main_receiver" class="ml10" />
                        </div>
                    </div>
                </div>
                <div class="row justify-content-between m-1">
                    <div class="col">
                        <div class="form-item roww">
                            <label for="server_type_1">Server Type</label>
                            <div class="select">
                                <select id="server_type_1"
                                        name="server_type_1">
                                    <option value="ajax">Ajax Pro</option>
                                    <option value="sia09" selected>SIA09 Receiver</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-item roww flex">
                            <label for="encription_key_1">Ecryption Key</label>
                            <input type="text" id="encription_key_1" name="encription_key_1" maxlength="32" />
                        </div>
                    </div>
                </div>
                <fieldset>
                    <legend>Address</legend>
                    <div class="form-item roww">
                        <div class="form-check form-check-inline radio-buttons">
                            <input class="form-check-input" type="radio" name="main_addr" id="main_ip_addr" value="option1" checked>
                            <label class="form-check-label" for="main_ip_addr">IP Address</label>
                        </div>
                        <div class="form-check form-check-inline radio-buttons">
                            <input class="form-check-input" type="radio" name="main_addr" id="main_dns_addr" value="option2">
                            <label class="form-check-label" for="main_dns_addr">DNS Address</label>
                        </div>
                    </div>
                    <div class="row mr-4">

                        <div class="col-xs-12 col-lg-3">
                            <div class="form-item roww">
                                <label for="server_1_ip">IP Address</label>
                                <!-- <input type="text" class="form-input" id="hostip" name="hostip" placeholder="xxx.xxx.xxx.xxx"/> -->
                                <input type="text" class="form-input" id="server_1_ip" name="server_1_ip" minlength="7" maxlength="15" size="15"
                                       pattern="^((\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.){3}(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$"
                                       placeholder=" 0 . 0 . 0 . 0 " />
                            </div>
                        </div>
                        <div class="col-xs-12 col-lg-7">
                            <div class="form-item roww flex">
                                <label for="server_1_dns">DNS Address</label>
                                <input type="text" id="server_1_dns" name="server_1_dns" maxlength="64" />
                            </div>
                        </div>
                        <div class="col-xs-12 col-lg-1">
                            <div class="form-item roww">
                                <label for="server_1_port">Port</label>
                                <input class="ml10"
                                       type="number"
                                       id="server_1_port"
                                       name="server_1_port"
                                       data-maxlength="10"
                                       oninput="javascript: myFunction(this.id)"
                                       onblur="javascript: myFunction2(this.id)"
                                       value="0"
                                       min="0"
                                       max="2147483647" />
                            </div>
                        </div>
                    </div>
                </fieldset>
            </fieldset>

            <fieldset>
                <legend>Backup Receiver</legend>
                <div class="row m-1">
                    <div class="col">
                        <div class="form-item roww disabled">
                            <label for="backup_receiver_name">Backup Receiver</label>
                            <input type="text" id="backup_receiver_name" name="backup_receiver_name" maxlength="32" />
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-item roww">
                            <label for="backup_receiver">Enable Backup Receiver</label>
                            <input type="checkbox" id="backup_receiver" name="backup_receiver" class="ml10" />
                        </div>
                    </div>
                </div>
                <div class="row justify-content-between m-1">
                    <div class="col">
                        <div class="form-item roww">
                            <label for="server_type_2">Server Type</label>
                            <div class="select">
                                <select id="server_type_2"
                                        name="server_type_2">
                                    <option value="ajax">Ajax Pro</option>
                                    <option value="sia09" selected>SIA09 Receiver</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-item roww flex">
                            <label for="encription_key_2">Ecryption Key</label>
                            <input type="text" id="encription_key_2" name="encription_key_2" maxlength="32" />
                        </div>
                    </div>
                </div>
                <fieldset>
                    <legend>Address</legend>
                    <div class="form-item roww">
                        <div class="form-check form-check-inline radio-buttons">
                            <input class="form-check-input" type="radio" name="backup_addr" id="backup_ip_addr" value="option1" checked>
                            <label class="form-check-label" for="backup_ip_addr">IP Address</label>
                        </div>
                        <div class="form-check form-check-inline radio-buttons">
                            <input class="form-check-input" type="radio" name="backup_addr" id="backup_dns_addr" value="option2">
                            <label class="form-check-label" for="backup_dns_addr">DNS Address</label>
                        </div>
                    </div>
                    <div class="row mr-4">
                        <div class="col-xs-12 col-lg-3">
                            <div class="form-item roww">
                                <label for="server_2_ip">IP Address</label>
                                <!-- <input type="text" class="form-input" id="hostip" name="hostip" placeholder="xxx.xxx.xxx.xxx"/> -->
                                <input type="text" class="form-input" id="server_2_ip" name="server_2_ip" minlength="7" maxlength="15" size="15"
                                       pattern="^((\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.){3}(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$"
                                       placeholder=" 0 . 0 . 0 . 0 " />
                            </div>
                        </div>
                        <div class="col-xs-12 col-lg-7">
                            <div class="form-item roww flex">
                                <label for="server_2_dns">DNS Address</label>
                                <input type="text" id="server_2_dns" name="server_2_dns" maxlength="64" />
                            </div>
                        </div>
                        <div class="col-xs-12 col-lg-1">
                            <div class="form-item roww">
                                <label for="server_2_port">Port</label>
                                <input class="ml10"
                                       type="number"
                                       id="server_2_port"
                                       name="server_2_port"
                                       data-maxlength="10"
                                       oninput="javascript: myFunction(this.id)"
                                       onblur="javascript: myFunction2(this.id)"
                                       value="0"
                                       min="0"
                                       max="2147483647" />
                            </div>
                        </div>
                    </div>
                </fieldset>
            </fieldset>

            <div class="buttons-row mt15">
                <!--<button type="button" class="btn-round btn-blue">Save</button>
                <button type="button" class="btn-round btn-border-black">Back</button>-->
            </div>
        </form>
        <script>
            function myFunction(id) {
                var element = document.getElementById(id);
                element.value = element.value.slice(0, element.dataset.maxlength);
            }
            function myFunction2(id) {
                var element = document.getElementById(id);
                if (element.value > element.max) {
                    element.value = element.max;
                }
            }
            function myFunction3(id) {
                var element = document.getElementById(id);
                if (!element.value.includes(":")) {
                    console.log('before:', element.value);
                    element.value += ":";
                    console.log('after:', element.value);
                }
                const regex = new RegExp("[0-9]{1,2}:[0-9]{0,2}");
                console.log('test', regex.test(element.value));
                element.value = regex.exec(element.value);
                console.log(element.value);
            }

            function changeStyleDisplay(id) {
                var val = document.getElementById(id).value;
                var divId = id + "-schedule";
                var element = document.getElementById(divId);
                if (val === "schedule") {
                    if (element.style.display === "block") {
                        element.style.display = "none";
                    } else {
                        element.style.display = "block";
                    }
                } else {
                    element.style.display = "none";
                }
            }
        </script>
    </div>
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="../imports/jquery-3.6.0.js"></script>
    <script src="../imports/popper.min.js"></script>
    <script src="../imports/boostrap@4.3.1.min.js"></script>
    <script src="../imports/bootstrap-datepicker.min.js"></script>
    <script src="../imports/font-awesome.js"></script>
    <script src="../imports/mainfuncs.js"></script>
    <script>
        function sendMessage(bc) {
            CefSharp.PostMessage(bc);
        }
                //$(document).ready(() => {
                //    sendMessage("Devices|TTE GPRS|Receiver Settings");
                //});
    </script>
</body>
</html>
