<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <!-- Bootstrap CSS -->
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
          crossorigin="anonymous" />
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" href="../IRIS.css" />
    <!-- Datepicker -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css" />

    <title>Teletek ProsTe</title>
</head>
<body>
    <div class="container" id="divMain">
        <!-- IMPORTANT When disable input, put class .disabled in the .form-item class -->

        <div class="row">
            <div class="col-3 bl scroll500">
                <div id="new_device" class="row">
                    <p>Add up to 4 loops</p>
                </div>
            </div>
            <div class="col-9">
                <div id="selected_device">

                </div>
            </div>
        </div>
        
        <div class="modal fade bd-example" tabindex="-1" role="dialog" id="deviceList" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="row">
                        <div class="col-4">
                            <div class="list-group" id="list-tab" role="tablist">
                                <button type="button" class="list-group-item list-group-item-action active show" id="list-teletek_loop-list" data-toggle="tab" href="#list-teletek_loop" role="tab" aria-controls="list-teletek_loop" aria-selected="false">Teletek Loop</button>
                                <button type="button" class="list-group-item list-group-item-action" id="list-system_sensor_loop-list" data-toggle="tab" href="#list-system_sensor_loop" role="tab" aria-controls="list-system_sensor_loop" aria-selected="false">System Sensor Loop</button>
                            </div>
                        </div>
                        <div class="col-8">
                            <div class="tab-content" id="nav-tabContent">
                                <div class="tab-pane fade active show" id="list-teletek_loop" role="tabpanel" aria-labelledby="list-teletek_loop-list">
                                    <div class="row m-1 justify-content-center">
                                        <h2>Teletek Loop</h2>
                                    </div>
                                    <div class="row m-1 justify-content-center">
                                        <img src="../../Images/1013.LoopDecices.ico" alt="" width="100" height="100" class="m15" />
                                    </div>
                                    <div class="row m-1 justify-content-end">
                                        <button type="button" class="btn-round" id="teletek_loop_btn" onclick="javascript: addConcreteDevice(this.id)">Add</button>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="list-system_sensor_loop" role="tabpanel" aria-labelledby="list-system_sensor_loop-list">
                                    <div class="row m-1 justify-content-center">
                                        <h2>System Sensor Loop</h2>
                                    </div>
                                    <div class="row m-1 justify-content-center">
                                        <img src="../../Images/1013.LoopDecices.ico" alt="" width="100" height="100" class="m15" />
                                    </div>
                                    <div class="row m-1 justify-content-end">
                                        <button type="button" class="btn-round" id="system_sensor_loop_btn" onclick="javascript: addConcreteDevice(this.id)">Add</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div style="bottom: 10px; position: sticky;" class="buttons-row mt-5">
            <button type="button" class="btn-round btn-blue">Save</button>
            <button type="button" class="btn-round btn-border-black">Back</button>
            <button style="display: inline-flex;" type="button" data-toggle="modal" data-target="#deviceList" id="device_btn" class="btn-round btn-border-black">
                <i class="fa-solid fa-plus 5x"></i> Add New Device
            </button>
        </div>


        <script>
            function myFunction(id) {
                var element = document.getElementById(id);
                element.value = element.value.slice(0, element.dataset.maxlength);
            }
            function myFunction2(id) {
                var element = document.getElementById(id);
                if (element.value > element.max) {
                    element.value = element.max;
                }
            }
            function myFunction3(id) {
                var element = document.getElementById(id);
                if (!element.value.includes(":")) {
                    console.log('before:', element.value);
                    element.value += ":";
                    console.log('after:', element.value);
                }
                const regex = new RegExp("[0-9]{1,2}:[0-9]{0,2}");
                console.log('test', regex.test(element.value));
                element.value = regex.exec(element.value);
                console.log(element.value);
            }

            function addActive(id) {
                $(id).on('click', '.btnStyle', function () {
                    $(id).find('.btnStyle').removeClass('active');// here remove class active from all btnStyle
                    $(this).addClass('active');// here apply selected class on clicked btnStyle
                });
            }

            function showDevice(id) {
                var el = document.getElementById("selected_device");
                
                var target = `<div class="row">
                    <div class="col-3 bl scroll400">
                        <div id="new_device_${id}" class="row">

                        </div>
                    </div>
                    <div class="col-9">
                        <div id="selected_device_${id}">

                        </div>
                    </div>
                </div>

                <div class="modal fade bd-example" tabindex="-1" role="dialog" id="deviceList_${id}" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="row">
                                <div class="col-4">
                                    <div class="list-group" id="list-tab" role="tablist">
                                        <button type="button" class="list-group-item list-group-item-action active show" id="list-sensoIRIS_mio40-list" data-toggle="tab" href="#list-sensoIRIS_mio40" role="tab" aria-controls="list-sensoIRIS_mio40" aria-selected="false">SensoIRIS MIO40</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_mio04-list" data-toggle="tab" href="#list-sensoIRIS_mio04" role="tab" aria-controls="list-sensoIRIS_mio04" aria-selected="false">SensoIRIS MIO04</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_mio22-list" data-toggle="tab" href="#list-sensoIRIS_mio22" role="tab" aria-controls="list-sensoIRIS_mio22" aria-selected="false">SensoIRIS MIO22</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_mio22m-list" data-toggle="tab" href="#list-sensoIRIS_mio22m" role="tab" aria-controls="list-sensoIRIS_mio22m" aria-selected="false">SensoIRIS MIO22M</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_minp-list" data-toggle="tab" href="#list-sensoIRIS_minp" role="tab" aria-controls="list-sensoIRIS_minp" aria-selected="false">SensoIRIS MINP</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_minp_fire-list" data-toggle="tab" href="#list-sensoIRIS_minp_fire" role="tab" aria-controls="list-sensoIRIS_minp_fire" aria-selected="false">SensoIRIS MINP (FIRE)</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_minp_gas-list" data-toggle="tab" href="#list-sensoIRIS_minp_gas" role="tab" aria-controls="list-sensoIRIS_minp_gas" aria-selected="false">SensoIRIS MINP (GAS)</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_minp_panic-list" data-toggle="tab" href="#list-sensoIRIS_minp_panic" role="tab" aria-controls="list-sensoIRIS_minp_panic" aria-selected="false">SensoIRIS MINP (PANIC)</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_mout-list" data-toggle="tab" href="#list-sensoIRIS_mout" role="tab" aria-controls="list-sensoIRIS_mout" aria-selected="false">SensoIRIS MOUT</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_mout2401-list" data-toggle="tab" href="#list-sensoIRIS_mout2401" role="tab" aria-controls="list-sensoIRIS_mout2401" aria-selected="false">SensoIRIS MOUT240/1</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_mout2402-list" data-toggle="tab" href="#list-sensoIRIS_mout2402" role="tab" aria-controls="list-sensoIRIS_mout2402" aria-selected="false">SensoIRIS MOUT240/2</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_mcz-list" data-toggle="tab" href="#list-sensoIRIS_mcz" role="tab" aria-controls="list-sensoIRIS_mcz" aria-selected="false">SensoIRIS MCZ</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_mcp150-list" data-toggle="tab" href="#list-sensoIRIS_mcp150" role="tab" aria-controls="list-sensoIRIS_mcp150" aria-selected="false">SensoIRIS MCP150</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_t110-list" data-toggle="tab" href="#list-sensoIRIS_t110" role="tab" aria-controls="list-sensoIRIS_t110" aria-selected="false">SensoIRIS T110</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_t110_is-list" data-toggle="tab" href="#list-sensoIRIS_t110_is" role="tab" aria-controls="list-sensoIRIS_t110_is" aria-selected="false">SensoIRIS T110 IS</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_s130-list" data-toggle="tab" href="#list-sensoIRIS_s130" role="tab" aria-controls="list-sensoIRIS_s130" aria-selected="false">SensoIRIS S130</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_s130_is-list" data-toggle="tab" href="#list-sensoIRIS_s130_is" role="tab" aria-controls="list-sensoIRIS_s130_is" aria-selected="false">SensoIRIS S130 IS</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_m140-list" data-toggle="tab" href="#list-sensoIRIS_m140" role="tab" aria-controls="list-sensoIRIS_m140" aria-selected="false">SensoIRIS M140</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_m140_is-list" data-toggle="tab" href="#list-sensoIRIS_m140_is" role="tab" aria-controls="list-sensoIRIS_m140_is" aria-selected="false">SensoIRIS M140 IS</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_wsou-list" data-toggle="tab" href="#list-sensoIRIS_wsou" role="tab" aria-controls="list-sensoIRIS_wsou" aria-selected="false">SensoIRIS WSOU</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_wsou_is-list" data-toggle="tab" href="#list-sensoIRIS_wsou_is" role="tab" aria-controls="list-sensoIRIS_wsou_is" aria-selected="false">SensoIRIS WSOU IS</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_wsst-list" data-toggle="tab" href="#list-sensoIRIS_wsst" role="tab" aria-controls="list-sensoIRIS_wsst" aria-selected="false">SensoIRIS WSST</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_wsst_is-list" data-toggle="tab" href="#list-sensoIRIS_wsst_is" role="tab" aria-controls="list-sensoIRIS_wsst_is" aria-selected="false">SensoIRIS WSST IS</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_wstr-list" data-toggle="tab" href="#list-sensoIRIS_wstr" role="tab" aria-controls="list-sensoIRIS_wstr" aria-selected="false">SensoIRIS WSTR</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_wstr_is-list" data-toggle="tab" href="#list-sensoIRIS_wstr_is" role="tab" aria-controls="list-sensoIRIS_wstr_is" aria-selected="false">SensoIRIS WSTR IS</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_bsou-list" data-toggle="tab" href="#list-sensoIRIS_bsou" role="tab" aria-controls="list-sensoIRIS_bsou" aria-selected="false">SensoIRIS BSOU</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_bsou_is-list" data-toggle="tab" href="#list-sensoIRIS_bsou_is" role="tab" aria-controls="list-sensoIRIS_bsou_is" aria-selected="false">SensoIRIS BSOU IS</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_bsst-list" data-toggle="tab" href="#list-sensoIRIS_bsst" role="tab" aria-controls="list-sensoIRIS_bsst" aria-selected="false">SensoIRIS BSST</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_bsst_is-list" data-toggle="tab" href="#list-sensoIRIS_bsst_is" role="tab" aria-controls="list-sensoIRIS_bsst_is" aria-selected="false">SensoIRIS BSST IS</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_bstr-list" data-toggle="tab" href="#list-sensoIRIS_bstr" role="tab" aria-controls="list-sensoIRIS_bstr" aria-selected="false">SensoIRIS BSTR</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_bstr_is-list" data-toggle="tab" href="#list-sensoIRIS_bstr_is" role="tab" aria-controls="list-sensoIRIS_bstr_is" aria-selected="false">SensoIRIS BSTR IS</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_gas-list" data-toggle="tab" href="#list-sensoIRIS_gas" role="tab" aria-controls="list-sensoIRIS_gas" aria-selected="false">SensoIRIS GAS</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_gas_sense-list" data-toggle="tab" href="#list-sensoIRIS_gas_sense" role="tab" aria-controls="list-sensoIRIS_gas_sense" aria-selected="false">SensoIRIS GAS SENSE</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_mc-d-list" data-toggle="tab" href="#list-sensoIRIS_mc-d" role="tab" aria-controls="list-sensoIRIS_mc-d" aria-selected="false">SensoIRIS MC-D</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-callpoint_mcp50-list" data-toggle="tab" href="#list-callpoint_mcp50" role="tab" aria-controls="list-callpoint_mcp50" aria-selected="false">CALLPOINT MCP50</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-m22-list" data-toggle="tab" href="#list-m22" role="tab" aria-controls="list-m22" aria-selected="false">M22</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sounder_wsou-list" data-toggle="tab" href="#list-sounder_wsou" role="tab" aria-controls="list-sounder_wsou" aria-selected="false">SOUNDER WSOU</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sensoIRIS_mimic-list" data-toggle="tab" href="#list-sensoIRIS_mimic" role="tab" aria-controls="list-sensoIRIS_mimic" aria-selected="false">SensoIRIS MIMIC</button>
                                    </div>
                                </div>
                                <div class="col-8 flexicol" >
                                    <div class="tab-content stick" id="nav-tabContent">
                                        <div class="tab-pane fade active show" id="list-sensoIRIS_mio40" role="tabpanel" aria-labelledby="list-sensoIRIS_mio40-list" >
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS MIO40</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/69.SensoIRIS_Module_box.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_mio40_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_mio04" role="tabpanel" aria-labelledby="list-sensoIRIS_mio04-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS MIO04</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/69.SensoIRIS_Module_box.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_mio04_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_mio22" role="tabpanel" aria-labelledby="list-sensoIRIS_mio22-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS MIO22</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/69.SensoIRIS_Module_box.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_mio22_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_mio22m" role="tabpanel" aria-labelledby="list-sensoIRIS_mio22m-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS MIO22M</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/69.SensoIRIS_Module_box.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_mio22m_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_minp" role="tabpanel" aria-labelledby="list-sensoIRIS_minp-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS MINP</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/1080.MINP.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_minp_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_minp_fire" role="tabpanel" aria-labelledby="list-sensoIRIS_minp_fire-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS MINP (FIRE)</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/1080.MINP.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_minp_fire_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_minp_gas" role="tabpanel" aria-labelledby="list-sensoIRIS_minp_gas-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS MINP (GAS)</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/1080.MINP.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_minp_gas_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_minp_panic" role="tabpanel" aria-labelledby="list-sensoIRIS_minp_panic-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS MINP (PANIC)</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/1080.MINP.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_minp_panic_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_mout" role="tabpanel" aria-labelledby="list-sensoIRIS_mout-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS MOUT</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/69.SensoIRIS_Module_box.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_mout_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_mout2401" role="tabpanel" aria-labelledby="list-sensoIRIS_mout2401-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS MOUT240/1</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/69.SensoIRIS_Module_box.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_mout2401_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_mout2402" role="tabpanel" aria-labelledby="list-sensoIRIS_mout2402-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS MOUT240/2</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/69.SensoIRIS_Module_box.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_mout2402_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_mcz" role="tabpanel" aria-labelledby="list-sensoIRIS_mcz-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS MCZ</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/69.SensoIRIS_Module_box.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_mcz_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_mcp150" role="tabpanel" aria-labelledby="list-sensoIRIS_mcp150-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS MCP150</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/1027. Call Point (IRIS).ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_mcp150_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_t110" role="tabpanel" aria-labelledby="list-sensoIRIS_t110-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS T110</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/70.SensoIRIS_T110_S130.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_t110_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_t110_is" role="tabpanel" aria-labelledby="list-sensoIRIS_t110_is-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS T110 IS</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/70.SensoIRIS_T110_S130.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_t110_is_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_s130" role="tabpanel" aria-labelledby="list-sensoIRIS_s130-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS S130</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/70.SensoIRIS_T110_S130.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_s130_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_s130_is" role="tabpanel" aria-labelledby="list-sensoIRIS_s130_is-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS S130 IS</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/70.SensoIRIS_T110_S130.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_s130_is_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_m140" role="tabpanel" aria-labelledby="list-sensoIRIS_m140-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS M140</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/71.SensoIRIS_M140.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_m140_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_m140_is" role="tabpanel" aria-labelledby="list-sensoIRIS_m140_is-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS M140 IS</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/71.SensoIRIS_M140.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_m140_is_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_wsou" role="tabpanel" aria-labelledby="list-sensoIRIS_wsou-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS WSOU</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/72.SensoIRIS_WSOU.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_wsou_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_wsou_is" role="tabpanel" aria-labelledby="list-sensoIRIS_wsou_is-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS WSOU IS</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/72.SensoIRIS_WSOU.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_wsou_is_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_wsst" role="tabpanel" aria-labelledby="list-sensoIRIS_wsst-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS WSST</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/75.SensoIRIS_wsst.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_wsst_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_wsst_is" role="tabpanel" aria-labelledby="list-sensoIRIS_wsst_is-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS WSST IS</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/75.SensoIRIS_wsst.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_wsst_is_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_wstr" role="tabpanel" aria-labelledby="list-sensoIRIS_wstr-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS WSTR</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/72.SensoIRIS_WSOU.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_wstr_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_wstr_is" role="tabpanel" aria-labelledby="list-sensoIRIS_wstr_is-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS WSTR IS</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/72.SensoIRIS_WSOU.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_wstr_is_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_bsou" role="tabpanel" aria-labelledby="list-sensoIRIS_bsou-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS BSOU</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/BSOU-600x460.png" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_bsou_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_bsou_is" role="tabpanel" aria-labelledby="list-sensoIRIS_bsou_is-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS BSOU IS</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/BSOU-600x460.png" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_bsou_is_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_bsst" role="tabpanel" aria-labelledby="list-sensoIRIS_bsst-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS BSST</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/BSOU-600x460.png" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_bsst_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_bsst_is" role="tabpanel" aria-labelledby="list-sensoIRIS_bsst_is-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS BSST IS</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/BSOU-600x460.png" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_bsst_is_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_bstr" role="tabpanel" aria-labelledby="list-sensoIRIS_bstr-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS BSTR</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/BSOU-600x460.png" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_bstr_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_bstr_is" role="tabpanel" aria-labelledby="list-sensoIRIS_bstr_is-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS BSTR IS</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/BSOU-600x460.png" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_bstr_is_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_gas" role="tabpanel" aria-labelledby="list-sensoIRIS_gas-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS GAS</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/1081.SensoIRIS_GAS.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_gas_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_gas_sense" role="tabpanel" aria-labelledby="list-sensoIRIS_gas_sense-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS GAS SENSE</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/1081.SensoIRIS_GAS.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_gas_sense_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_mc-d" role="tabpanel" aria-labelledby="list-sensoIRIS_mc-d-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS MC-D</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/68.SensoIRIS_address_base.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_mc-d_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-callpoint_mcp50" role="tabpanel" aria-labelledby="list-callpoint_mcp50-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>CALLPOINT MCP50</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/27. Call Point (IRIS).ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="callpoint_mcp50_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-m22" role="tabpanel" aria-labelledby="list-m22-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>M22</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/1058. IRIS M22_IRIS Zone.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="m22_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sounder_wsou" role="tabpanel" aria-labelledby="list-sounder_wsou-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SOUNDER WSOU</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/1059. Sounder WSOU.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sounder_wsou_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sensoIRIS_mimic" role="tabpanel" aria-labelledby="list-sensoIRIS_mimic-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SensoIRIS MIMIC</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/69.SensoIRIS_Module_box.ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sensoIRIS_mimic_btn" onclick="javascript: addConcreteDevice2(this.id, '${id}')">Add</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="bottom: 10px; position: sticky;" class="buttons-row mt-5">
                    <button type="button" class="btn-round btn-blue">Save</button>
                    <button style="display: inline-flex;" type="button" data-toggle="modal" data-target="#deviceList_${id}" id="device_btn_${id}" class="btn-round btn-border-black">
                        <i class="fa-solid fa-plus 5x"></i> Add New Device in ${id.replaceAll("_", " ")}
                    </button>
                </div>`;

                var proxy_target = `<div class="row">
                    <div class="col-3 bl scroll400">
                        <p>Sensors</p>
                        <div id="new_sensor_${id}" class="row">

                        </div>
                        <p>Modules</p>
                        <div id="new_module_${id}" class="row">

                        </div>
                    </div>
                    <div class="col-9">                       
                        <div id="selected_sensor_${id}">

                        </div>
                    </div>
                </div>

                <div class="modal fade bd-example" tabindex="-1" role="dialog" id="sensorList_${id}" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="row">
                                <div class="col-4">
                                    <div class="list-group" id="list-tab" role="tablist">
                                        <div>Sensors</div>
                                        <button type="button" class="list-group-item list-group-item-action active show" id="list-1251е-list" data-toggle="tab" href="#list-1251е" role="tab" aria-controls="list-1251е" aria-selected="true">1251Е</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-22051e-list" data-toggle="tab" href="#list-22051e" role="tab" aria-controls="list-22051e" aria-selected="false">22051E</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-22051eise-list" data-toggle="tab" href="#list-22051eise" role="tab" aria-controls="list-22051eise" aria-selected="false">22051EISE</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-6200-list" data-toggle="tab" href="#list-6200" role="tab" aria-controls="list-6200" aria-selected="false">6200</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-ftxp1-list" data-toggle="tab" href="#list-ftxp1" role="tab" aria-controls="list-ftxp1" aria-selected="false">FTXP1</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-6500-list" data-toggle="tab" href="#list-6500" role="tab" aria-controls="list-6500" aria-selected="false">6500</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-52051e-list" data-toggle="tab" href="#list-52051e" role="tab" aria-controls="list-52051e" aria-selected="false">52051E</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-52051re-list" data-toggle="tab" href="#list-52051re" role="tab" aria-controls="list-52051re" aria-selected="false">52051RE</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-52051hte-list" data-toggle="tab" href="#list-52051hte" role="tab" aria-controls="list-52051hte" aria-selected="false">52051HTE</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-52051te_tle_ctle-list" data-toggle="tab" href="#list-52051te_tle_ctle" role="tab" aria-controls="list-52051te_tle_ctle" aria-selected="false">52051TE / TLE / CTLE</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-lzr1m-list" data-toggle="tab" href="#list-lzr1m" role="tab" aria-controls="list-lzr1m" aria-selected="false">LZR1M</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-7251-list" data-toggle="tab" href="#list-7251" role="tab" aria-controls="list-7251" aria-selected="false">7251</button>
                                        <div>Modules</div>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-m210e-list" data-toggle="tab" href="#list-m210e" role="tab" aria-controls="list-m210e" aria-selected="false">M210E</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-m220e-list" data-toggle="tab" href="#list-m220e" role="tab" aria-controls="list-m220e" aria-selected="false">M220E</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-m221einput-list" data-toggle="tab" href="#list-m221einput" role="tab" aria-controls="list-m221einput" aria-selected="false">M221EINPUT</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-m221eoutput-list" data-toggle="tab" href="#list-m221eoutput" role="tab" aria-controls="list-m221eoutput" aria-selected="false">M221EOUTPUT</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-m201e_supervized-list" data-toggle="tab" href="#list-m201e_supervized" role="tab" aria-controls="list-m201e_supervized" aria-selected="false">M201E SUPERVIZED</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-m501me-list" data-toggle="tab" href="#list-m501me" role="tab" aria-controls="list-m501me" aria-selected="false">M501ME</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-m503me-list" data-toggle="tab" href="#list-m503me" role="tab" aria-controls="list-m503me" aria-selected="false">M503ME</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-callpoint-list" data-toggle="tab" href="#list-callpoint" role="tab" aria-controls="list-callpoint" aria-selected="false">CALL POINT</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-m512me-list" data-toggle="tab" href="#list-m512me" role="tab" aria-controls="list-m512me" aria-selected="false">M512ME (ZONE MONITOR)</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-m201e_unsupervized-list" data-toggle="tab" href="#list-m201e_unsupervized" role="tab" aria-controls="list-m201e_unsupervized" aria-selected="false">M201E UNSUPERVIZED</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-sounder_strobe-list" data-toggle="tab" href="#list-sounder_strobe" role="tab" aria-controls="list-sounder_strobe" aria-selected="false">SOUNDER / STROBE</button>
                                        <button type="button" class="list-group-item list-group-item-action" id="list-m210e_cz-list" data-toggle="tab" href="#list-m210e_cz" role="tab" aria-controls="list-m210e_cz" aria-selected="false">M210E-CZ (ZONE MONITOR)</button>
                                    </div>
                                </div>
                                <div class="col-8 flexicol" >
                                    <div class="tab-content stick" id="nav-tabContent">
                                        <div class="tab-pane fade active show" id="list-1251е" role="tabpanel" aria-labelledby="list-1251е-list" >
                                            <div class="row m-1 justify-content-center">
                                                <h2>1251Е</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/17.1251E.png" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="1251е_btn" onclick="javascript: addSensor(this.id, '${id}', 'sensor')">Add</button>
                                            </div>
                                        </div>

                                        <div class="tab-pane fade" id="list-22051e" role="tabpanel" aria-labelledby="list-22051e-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>22051E</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/22. 22051TE (IRIS).ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="22051e_btn" onclick="javascript: addSensor(this.id, '${id}', 'sensor')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-22051eise" role="tabpanel" aria-labelledby="list-22051eise-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>22051EISE</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/22. 22051TE (IRIS).ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="22051eise_btn" onclick="javascript: addSensor(this.id, '${id}', 'sensor')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-6200" role="tabpanel" aria-labelledby="list-6200-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>6200</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/18. 6200 (IRIS).ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="6200_btn" onclick="javascript: addSensor(this.id, '${id}', 'sensor')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-ftxp1" role="tabpanel" aria-labelledby="list-ftxp1-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>FTXP1</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/19. Filtrex (IRIS).ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="ftxp1_btn" onclick="javascript: addSensor(this.id, '${id}', 'sensor')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-6500" role="tabpanel" aria-labelledby="list-6500-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>6500</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/20. 6500 (IRIS).png" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="6500_btn" onclick="javascript: addSensor(this.id, '${id}', 'sensor')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-52051e" role="tabpanel" aria-labelledby="list-52051e-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>52051E</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/22. 22051TE (IRIS).ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="52051e_btn" onclick="javascript: addSensor(this.id, '${id}', 'sensor')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-52051re" role="tabpanel" aria-labelledby="list-52051re-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>52051RE</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/22. 22051TE (IRIS).ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="52051re_btn" onclick="javascript: addSensor(this.id, '${id}', 'sensor')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-52051hte" role="tabpanel" aria-labelledby="list-52051hte-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>52051HTE</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/22. 22051TE (IRIS).ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="52051hte_btn" onclick="javascript: addSensor(this.id, '${id}', 'sensor')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-52051te_tle_ctle" role="tabpanel" aria-labelledby="list-52051te_tle_ctle-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>52051TE / TLE / CTLE</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/22. 22051TE (IRIS).ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="52051te/tle/ctle_btn" onclick="javascript: addSensor(this.id, '${id}', 'sensor')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-lzr1m" role="tabpanel" aria-labelledby="list-lzr1m-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>LZR1M</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/17.1251E.png" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="lzr1m_btn" onclick="javascript: addSensor(this.id, '${id}', 'sensor')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-7251" role="tabpanel" aria-labelledby="list-7251-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>LZR1M</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/23. 7251 (IRIS).ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="7251_btn" onclick="javascript: addSensor(this.id, '${id}', 'sensor')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-m210e" role="tabpanel" aria-labelledby="list-m210e-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>M210E</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/25. M201_M221 (IRIS).ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="m210e_btn" onclick="javascript: addSensor(this.id, '${id}', 'module')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-m220e" role="tabpanel" aria-labelledby="list-m220e-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>M220E</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/25. M201_M221 (IRIS).ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="m220e_btn" onclick="javascript: addSensor(this.id, '${id}', 'module')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-m221einput" role="tabpanel" aria-labelledby="list-m221einput-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>M221EINPUT</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/25. M201_M221 (IRIS).ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="m221einput_btn" onclick="javascript: addSensor(this.id, '${id}', 'module')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-m221eoutput" role="tabpanel" aria-labelledby="list-m221eoutput-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>M221EOUTPUT</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/25. M201_M221 (IRIS).ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="m221eoutput_btn" onclick="javascript: addSensor(this.id, '${id}', 'module')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-m201e_supervized" role="tabpanel" aria-labelledby="list-m201e_supervized-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>M201E SUPERVIZED</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/25. M201_M221 (IRIS).ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="m201e_supervized_btn" onclick="javascript: addSensor(this.id, '${id}', 'module')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-m501me" role="tabpanel" aria-labelledby="list-m501me-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>M501ME</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/26. M503ME (IRIS).ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="m501me_btn" onclick="javascript: addSensor(this.id, '${id}', 'module')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-m503me" role="tabpanel" aria-labelledby="list-m503me-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>M503ME</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/26. M503ME (IRIS).ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="m503me_btn" onclick="javascript: addSensor(this.id, '${id}', 'module')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-callpoint" role="tabpanel" aria-labelledby="list-callpoint-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>CALL POINT</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/27. Call Point (IRIS).ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="call_point_btn" onclick="javascript: addSensor(this.id, '${id}', 'module')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-m512me" role="tabpanel" aria-labelledby="list-m512me-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>M512ME (ZONE MONITOR)</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/29. M512 (IRIS).ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="m512me_(zone_monitor)_btn" onclick="javascript: addSensor(this.id, '${id}', 'module')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-m201e_unsupervized" role="tabpanel" aria-labelledby="list-m201e_unsupervized-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>M201E UNSUPERVIZED</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/25. M201_M221 (IRIS).ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="m201e_unsupervized_btn" onclick="javascript: addSensor(this.id, '${id}', 'module')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-sounder_strobe" role="tabpanel" aria-labelledby="list-sounder_strobe-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>SOUNDER / STROBE</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/28. Sounder_Strobe (IRIS).ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="sounder_/_strobe_btn" onclick="javascript: addSensor(this.id, '${id}', 'module')">Add</button>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="list-m210e_cz" role="tabpanel" aria-labelledby="list-m210e_cz-list">
                                            <div class="row m-1 justify-content-center">
                                                <h2>M210E-CZ (ZONE MONiTOR)</h2>
                                            </div>
                                            <div class="row m-1 justify-content-center">
                                                <img src="../../Images/25. M201_M221 (IRIS).ico" alt="" width="100" height="100" class="m15" />
                                            </div>
                                            <div class="row m-1 justify-content-end">
                                                <button type="button" class="btn-round" id="m210e-cz_(zone_monitor)_btn" onclick="javascript: addSensor(this.id, '${id}', 'module')">Add</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="bottom: 10px; position: sticky;" class="buttons-row mt-5">
                    <button type="button" class="btn-round btn-blue">Save</button>
                    <button style="display: inline-flex;" type="button" data-toggle="modal" data-target="#sensorList_${id}" id="sensor_btn_${id}" class="btn-round btn-border-black">
                        <i class="fa-solid fa-plus 5x"></i> Add New Sensor in ${id.replaceAll("_", " ")}
                    </button>
                </div>`;

                switch (true) {
                    case id.includes("system_sensor_loop"): el.innerHTML = proxy_target; break;
                    case id.includes("teletek_loop"): el.innerHTML = target; break;

                    default: break;
                }
            }


            function showSensor(id, loop_id, type) {
                var el = document.getElementById(`selected_sensor_${loop_id}`);
                
                alarm_level = false; alarm_value = 0;
                switch (true) {
                    case id.split('_')[0] === ('22051e'):
                    case id.includes('1251е'): alarm_value = 2;
                    case id.includes('7251'):
                    case id.includes('52051te/tle/ctle'): alarm_level = true; break;

                    default: break;
                }
                var target = `<fieldset>
                            <legend>Device</legend>
                            <div class="row">
                                <div class="col">
                                    <div class="form-item roww">
                                        <label for="name">Name</label>
                                        <input type="text" id="name" name="name" />
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="form-item roww disabled">
                                        <label for="device_state">State</label>
                                        <div class="select">
                                            <select id="device_state"
                                                    name="device_state">
                                                <option value="none">NONE</option>
                                                <option value="normal" selected>NORMAL</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </fieldset>

                        <fieldset>
                            <legend>Parameters</legend>
                            <div class="row align-items-center">
                                <div class="col-xs-12 col-lg-6">
                                    <div class="form-item roww">
                                        <label for="zone">Zone</label>
                                        <input class="ml10"
                                               type="number"
                                               id="zone"
                                               name="zone"
                                               data-maxlength="2"
                                               oninput="javascript: myFunction(this.id)"
                                               onblur="javascript: myFunction2(this.id)"
                                               placeholder="1"
                                               min="1"
                                               max="96" />
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="form-item roww">
                                        <label for="led">LED</label>
                                        <input type="checkbox" id="led" name="led" class="ml10" checked />
                                    </div>
                                </div>
                            </div>
                        </fieldset>


                        ${alarm_level ? `<fieldset>
                            <legend>Alarm Level</legend>
                            <div class="row align-items-center">
                                <div class="col">
                                    <div class="form-item roww">
                                        <label for="day_alarm_level">Day</label>
                                        <input class="ml10"
                                               type="number"
                                               id="day_alarm_level"
                                               name="day_alarm_level"
                                               data-maxlength="1"
                                               oninput="javascript: myFunction(this.id)"
                                               onblur="javascript: myFunction2(this.id)"
                                               placeholder="0"
                                               value="${alarm_value}"
                                               min="0"
                                               max="3" />
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="form-item roww">
                                        <label for="night_alarm_level">Night</label>
                                        <input class="ml10"
                                               type="number"
                                               id="night_alarm_level"
                                               name="night_alarm_level"
                                               data-maxlength="1"
                                               oninput="javascript: myFunction(this.id)"
                                               onblur="javascript: myFunction2(this.id)"
                                               placeholder="0"
                                               value="${alarm_value}"
                                               min="0"
                                               max="3" />
                                    </div>
                                </div>
                            </div>
                        </fieldset>` : ''}

                        <fieldset>
                            <legend>Verify Time</legend>
                            <div class="row">
                                <div class="col">
                                    <div class="form-item roww">
                                        <label for="day-verify-time">Day [sec]</label>
                                        <input class="ml10"
                                               type="number"
                                               id="day-verify-time"
                                               name="day-verify-time"
                                               data-maxlength="2"
                                               oninput="javascript: myFunction(this.id)"
                                               onblur="javascript: myFunction2(this.id)"
                                               placeholder="0"
                                               value="0"
                                               min="0"
                                               max="60" />
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="form-item roww">
                                        <label for="night-verify-time">Night [sec]</label>
                                        <input class="ml10"
                                               type="number"
                                               id="night-verify-time"
                                               name="night-verify-time"
                                               data-maxlength="2"
                                               oninput="javascript: myFunction(this.id)"
                                               onblur="javascript: myFunction2(this.id)"
                                               placeholder="0"
                                               value="0"
                                               min="0"
                                               max="60" />
                                    </div>
                                </div>
                            </div>
                        </fieldset>

                        <div class="buttons-row mt15">
                            <button type="button" class="btn-round btn-blue">Save</button>
                            <button type="button" class="btn-round btn-border-black">Back</button>
                        </div>`;
                var proxy_target = `<fieldset>
                    <legend>Device</legend>
                    <div class="row">
                        <div class="col">
                            <div class="form-item roww">
                                <label for="name">Name</label>
                                <input type="text" id="name" name="name" />
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-item roww disabled">
                                <label for="device_state">State</label>
                                <div class="select">
                                    <select id="device_state"
                                            name="device_state">
                                        <option value="none">NONE</option>
                                        <option value="normal" selected>NORMAL</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </fieldset>

                <fieldset>
                    <legend>Parameters</legend>
                    <div class="row align-items-center">
                        <div class="col-xs-12 col-lg-6">
                            <div class="form-item roww">
                                <label for="zone">Zone</label>
                                <input class="ml10"
                                       type="number"
                                       id="zone"
                                       name="zone"
                                       data-maxlength="2"
                                       oninput="javascript: myFunction(this.id)"
                                       onblur="javascript: myFunction2(this.id)"
                                       placeholder="1"
                                       min="1"
                                       max="96" />
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-item roww">
                                <label for="led">LED</label>
                                <input type="checkbox" id="led" name="led" class="ml10" checked />
                            </div>
                        </div>
                    </div>
                </fieldset>

                <div class="buttons-row mt15">
                    <button type="button" class="btn-round btn-blue">Save</button>
                    <button type="button" class="btn-round btn-border-black">Back</button>
                </div>`;
                if (type === 'sensor') {
                    el.innerHTML = target;
                } else {
                    el.innerHTML = proxy_target;
                }                
            }

            var sensorsLst2 = [];
            const sensors = 200;
            function addSensor(id, loop_id, type) {
                for (i = 1; i <= sensors; i++) {
                    if (sensorsLst2.includes(i)) {
                        continue;
                    } else {
                        var last = i;
                        break;
                    }
                }

                if (sensorsLst2.includes(parseInt(+id))) {
                    // if function called from concrete sensor, it removes the sensor
                    var elem = document.querySelector(`[id $= ${loop_id}_${+id}]`);
                    if (elem) elem.parentNode.removeChild(elem);
                    sensorsLst2 = sensorsLst2.filter(function (item) {
                        return item !== +id
                    })

                    // should add new sensor button be shown in case it is hidden
                    let button = document.getElementById(`sensor_btn_${loop_id}`);
                    if (sensorsLst2.length < sensors && button.style.display === "none") {
                        button.style.display = "inline-flex";
                    }
                }
                else {
                    // if a new sensor is requested
                    let imgSource = "../../Images/";
                    let link = id.split("_");
                    let curr = link.splice(link.length - 1)[0];
                    link = link.join("_");
                    let title = link.toUpperCase().replaceAll("_", " ").replaceAll("/", " / ");

                    // set the image source
                    switch (link) {
                        case 'sounder_/_strobe': imgSource += '28. Sounder_Strobe (IRIS).ico'; break;
                        case 'm512me_(zone_monitor)': imgSource += '29. M512 (IRIS).ico'; break;
                        case 'call_point': imgSource += '27. Call Point (IRIS).ico'; break;
                        case 'm503me':
                        case 'm501me': imgSource += '26. M503ME (IRIS).ico'; break;
                        case 'm210e-cz_(zone_monitor)':
                        case 'm201e_unsupervized':
                        case 'm201e_supervized':
                        case 'm221eoutput':
                        case 'm221einput':
                        case 'm220e':
                        case 'm210e': imgSource += '25. M201_M221 (IRIS).ico'; break;
                        case '7251': imgSource += '23. 7251 (IRIS).ico'; break;
                        case 'lzr1m':
                        case '1251е': imgSource += '17.1251E.png'; break;
                        case 'ftxp1': imgSource += '19. Filtrex (IRIS).ico'; break;
                        case '6200': imgSource += '18. 6200 (IRIS).ico'; break;
                        case '6500': imgSource += '20. 6500 (IRIS).png'; break;
                        default: imgSource += "22. 22051TE (IRIS).ico";
                    }

                    const newUserElement = `
                                                    <div class="col-12" id='${loop_id}_${type}_${last}'>
                                                        <div class="row">
                                                            <div class="col-11 pr-1">
                                                                <a href="javascript:showSensor('${link}_${last}', '${loop_id}', '${type}')" onclick="javascript:addActive('#selected_device')" >
                                                                    <div class="btnStyle">
                                                                        <img src="${imgSource}" alt="" width="25" height="25" class="m15" />
                                                                        <div class="someS">
                                                                            <h5>${title}</h5>
                                                                        </div>
                                                                    </div>
                                                                </a>
                                                            </div>
                                                            <div class="col-1 p-0 m-0" onclick="javascript:addSensor(${last}, '${loop_id}', '${type}')">
                                                                <i class="fa-solid fa-xmark"></i>
                                                            </div>
                                                        </div>
                                                    </div>`;
                    // adds the new sensor
                    var element = document.getElementById(`new_${type}_${loop_id}`);
                    var new_inner = `
                                        ${element.innerHTML}
                                        ${newUserElement}
                                    `;
                    sensorsLst2.push(last);
                    element.innerHTML = new_inner;

                    // reordering
                    var main = document.getElementById(`new_${type}_${loop_id}`);

                    [].map.call(main.children, Object).sort(function (a, b) {
                        return +a.id.match(/\d+$/) - +b.id.match(/\d+$/);
                    }).forEach(function (elem) {
                        main.appendChild(elem);
                    });

                    // button display check
                    if (sensorsLst2.length === sensors) {
                        let button = document.getElementById(`sensor_btn_${loop_id}`);
                        button.style.display = "none";
                    }
                    $(`#sensorList_${loop_id}`).modal('toggle');
                }
            }


            var lst = [];
            const devices = 4;
            function addConcreteDevice(id) {
                for (i = 1; i <= devices; i++) {
                    if (lst.includes(i)) {
                        continue;
                    } else {
                        var last = i;
                        break;
                    }
                }
                if (lst.includes(parseInt(+id))) {
                    var elem = document.querySelector(`[id $= _${+id}]`);
                    if (elem) elem.parentNode.removeChild(elem);
                    lst = lst.filter(function (item) {
                        return item !== +id
                    })

                    let button = document.getElementById("device_btn");
                    if (lst.length < devices && button.style.display === "none") {
                        button.style.display = "inline-flex";
                    }
                }
                else {
                    let imgSource = "../../Images/";
                    let link = id.substr(0, id.length - 4);
                    let title = link.toUpperCase().replaceAll("_", " ");
                    switch (link) {
                        default: imgSource += "1013.LoopDecices.ico";
                    }
                    const newUserElement = `
                                                    <div class="col-12" id='${last}'>
                                                        <div class="row">
                                                            <div class="col-11 pr-1">
                                                                <a href="javascript:showDevice('${link}_${last}')" onclick="javascript:addActive('#new_device')" >
                                                                    <div class="btnStyle">
                                                                        <img src="${imgSource}" alt="" width="25" height="25" class="m15" />
                                                                        <div class="someS">
                                                                            <h5>${title + ' ' + last}</h5>
                                                                        </div>
                                                                    </div>
                                                                </a>
                                                            </div>
                                                            <div class="col-1 p-0 m-0" onclick="javascript:addConcreteDevice(${last})">
                                                                <i class="fa-solid fa-xmark"></i>
                                                            </div>
                                                        </div>
                                                    </div>
                                                                `;
                    var element = document.getElementById("new_device");
                    var new_inner = `                                 
                                        ${element.innerHTML}
                                        ${newUserElement}
                                    `;
                    lst.push(last);
                    element.innerHTML = new_inner;

                    // button display check
                    if (lst.length === devices) {
                        let button = document.getElementById("device_btn");
                        button.style.display = "none";
                    }
                    $('#deviceList').modal('toggle');
                }
            }

            function showDevice2(id, loop_id) {
                var el = document.getElementById(`selected_device_${loop_id}`);

                let i = false; let o = false; let c = false; let p = false;
                let st = false; let n = false;
                switch (true) {
                    case id.includes('sensoIRIS_gas_sense'): i = true; c = true;
                    case id.includes('sensoIRIS_gas'):
                    case id.includes('sensoIRIS_m140_is'):
                    case id.includes('sensoIRIS_m140'):
                    case id.includes('sensoIRIS_s130_is'):
                    case id.includes('sensoIRIS_s130'):
                    case id.includes('sensoIRIS_minp_panic'):
                    case id.includes('sensoIRIS_minp_gas'):
                    case id.includes('_mio40_'): i = true; break;
                    case id.includes('_mio22_'): i = true; o = true; break;
                    case id.includes('_mio22m_'): i = true; o = true; break;
                    case id.includes('sensoIRIS_mcp150'): p = true; break;
                    case id.includes('sensoIRIS_bstr_is'):
                    case id.includes('sensoIRIS_bstr'):
                    case id.includes('sensoIRIS_wstr_is'):
                    case id.includes('sensoIRIS_wstr'): n = true;
                    case id.includes('sensoIRIS_bsst_is'):
                    case id.includes('sensoIRIS_bsst'):
                    case id.includes('sensoIRIS_wsst'):
                    case id.includes('sensoIRIS_wsst'): st = true;
                    case id.includes('sensoIRIS_bsou_is'):
                    case id.includes('sensoIRIS_bsou'):
                    case id.includes('sensoIRIS_wsou_is'):
                    case id.includes('sensoIRIS_wsou'): p = true;
                    case id.includes('sensoIRIS_mimic'):
                    case id.includes('sensoIRIS_mcz'):
                    case id.includes('sensoIRIS_mout2402'):
                    case id.includes('sensoIRIS_mout2401'):
                    case id.includes('sensoIRIS_mout'): c = true; break;
                    case id.includes('m22'): c = true;
                    case id.includes('sounder_wsou'): o = true; break;
                    case id.includes('sensoIRIS_mc-d'): n = true; break;
                    case id.includes('callpoint_mcp50'): st = true; break;
                    default: break;
                }
                var target = `<fieldset>
                            <legend>Device</legend>
                            <div class="row">
                                <div class="col-12">
                                    <div class="form-item roww disabled">
                                        <label for="device_state">State</label>
                                        <div class="select">
                                            <select id="device_state"
                                                    name="device_state">
                                                <option value="none">NONE</option>
                                                <option value="normal" selected>NORMAL</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="form-item roww">
                                        <label for="name">Name</label>
                                        <input type="text" id="name" name="name" />
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="form-item roww disabled">
                                        <label for="serial_id">Serial ID</label>
                                        <input type="text" id="serial_id" name="serial_id" />
                                    </div>
                                </div>

                            </div>
                        </fieldset>

                        <fieldset>
                            <legend>Parameters</legend>
                            <div class="row align-items-center">
                                <div class="${i ? 'col-6' : 'col'}">
                                    <div class="form-item roww">
                                        <label for="zone">Zone</label>
                                        <input class="ml10"
                                               type="number"
                                               id="zone"
                                               name="zone"
                                               data-maxlength="2"
                                               oninput="javascript: myFunction(this.id)"
                                               onblur="javascript: myFunction2(this.id)"
                                               placeholder="1"
                                               min="1"
                                               max="96" />
                                    </div>
                                </div>
                                <div class="col">
                                    ${o ? `<div class="form-item roww">
                                        <label for="sounder_group">Sounder Group</label>
                                        <input class="ml10"
                                               type="number"
                                               id="sounder_group"
                                               name="sounder_group"
                                               data-maxlength="2"
                                               oninput="javascript: myFunction(this.id)"
                                               onblur="javascript: myFunction2(this.id)"
                                               placeholder="1"
                                               min="1"
                                               max="96" />
                                    </div>` : ''}
                                    ${i ? `
                                        <div class="form-item roww">
                                            <label for="sounder_on">SOUNDER ON</label>
                                            <input type="checkbox" id="sounder_on" name="sounder_on" class="ml10" ${c ? '' : 'checked'} />
                                        </div>` : ''}
                                    ${st ? `<div class="form-item roww">
                                            <label for="evacuate">Evacuate</label>
                                            <input type="checkbox" id="evacuate" name="evacuate" class="ml10" checked />
                                        </div>` : ''}
                                </div>
                                ${c ? `<div class="col"><div class="form-item roww">
                                            <label for="led">LED</label>
                                            <input type="checkbox" id="led" name="led" class="ml10" checked />
                                    </div></div>` : ''}
                            </div>
                            ${p ? `<div class="row align-items-center mt-1">
                                <div class="col-6">
                                    <div class="form-item roww">
                                        <label for="event">Event</label>
                                        <div class="select">
                                            <select id="event"
                                                    name="event">
                                                <option value="alarms">Alarms</option>
                                                <option value="evacuate">Evacuate</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="form-item roww">
                                        <label for="led">LED</label>
                                        <input type="checkbox" id="led" class="ml10" checked />
                                    </div>
                                </div>
                            </div>` : ''}
                        </fieldset>

                        ${n ? `<fieldset>
                            <legend>Verify Time</legend>
                            <div class="row">
                                <div class="col-6">
                                    <div class="form-item roww">
                                        <label for="day-verify-time">Day [sec]</label>
                                        <input class="ml10"
                                               type="number"
                                               id="day-verify-time"
                                               name="day-verify-time"
                                               data-maxlength="2"
                                               oninput="javascript: myFunction(this.id)"
                                               onblur="javascript: myFunction2(this.id)"
                                               placeholder="0"
                                               min="0"
                                               max="60" />
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="form-item roww">
                                        <label for="night-verify-time">Night [sec]</label>
                                        <input class="ml10"
                                               type="number"
                                               id="night-verify-time"
                                               name="night-verify-time"
                                               data-maxlength="2"
                                               oninput="javascript: myFunction(this.id)"
                                               onblur="javascript: myFunction2(this.id)"
                                               placeholder="0"
                                               min="0"
                                               max="60" />
                                    </div>
                                </div>
                            </div>
                        </fieldset>` : ''}

                        <div class="buttons-row mt15">
                            <button type="button" class="btn-round btn-blue">Save</button>
                            <button type="button" class="btn-round btn-border-black">Back</button>
                        </div>`;
                var proxy_target = `<fieldset>
                            <legend>Device</legend>
                            <div class="row">
                                <div class="col-12">
                                    <div class="form-item roww disabled">
                                        <label for="device_state">State</label>
                                        <div class="select">
                                            <select id="device_state"
                                                    name="device_state">
                                                <option value="none">NONE</option>
                                                <option value="normal" selected>NORMAL</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="form-item roww">
                                        <label for="name">Name</label>
                                        <input type="text" id="name" name="name" />
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="form-item roww disabled">
                                        <label for="serial_id">Serial ID</label>
                                        <input type="text" id="serial_id" name="serial_id" />
                                    </div>
                                </div>
                            </div>
                        </fieldset>

                        <fieldset>
                            <legend>Parameters</legend>
                            <div class="row align-items-center">
                                <div class="${i && !o ? 'col-6' : 'col-4'}">
                                    <div class="form-item roww">
                                        <label for="zone">Zone</label>
                                        <input class="ml10"
                                               type="number"
                                               id="zone"
                                               name="zone"
                                               data-maxlength="2"
                                               oninput="javascript: myFunction(this.id)"
                                               onblur="javascript: myFunction2(this.id)"
                                               value="1"
                                               min="1"
                                               max="96" />
                                    </div>
                                </div>
                                ${i && !o ? '' : `<div class="col">
                                    <div class="form-item roww">
                                        <label for="sounder_group">Sounder Group</label>
                                        <input class="ml10"
                                               type="number"
                                               id="sounder_group"
                                               name="sounder_group"
                                               data-maxlength="2"
                                               oninput="javascript: myFunction(this.id)"
                                               onblur="javascript: myFunction2(this.id)"
                                               value="1"
                                               min="1"
                                               max="96" />
                                    </div>
                                </div>`}
                                ${n ? '' : `${p ? `<div class="col-12 mt-1">
                                    <div class="form-item roww">
                                        ${st ? `<label for="parameters">Parameters</label>
                                        <div class="select">
                                            <select id="parameters"
                                                    name="parameters">
                                                <option value="sound-high_level-strobe">Sound / High Level / Strobe</option>
                                                <option value="sound-low_level-strobe">Sound / Low Level / Strobe</option>
                                                <option value="sound-high_level">Sound / High Level</option>
                                                <option value="sound-low_level">Sound / Low Level</option>
                                                <option value="strobe-high_level">Strobe / High Level</option>
                                                <option value="strobe-low_level">Strobe / Low Level</option>
                                            </select>
                                        </div>` : `<label for="sound">Sound</label>
                                        <div class="select">
                                            <select id="sound"
                                                    name="sound">
                                                <option value="high_level">High Level</option>
                                                <option value="low_level">Low Level</option>
                                            </select>
                                        </div>`}
                                    </div>
                                </div>` : `<div class="col">
                                    <div class="form-item roww">
                                        <label for="led">LED</label>
                                        <input type="checkbox" id="led" class="ml10" checked />
                                    </div>`}`}
                                </div>
                            </div>
                        </fieldset>

                        ${p ? '' : `<fieldset>
                            <legend>Channels</legend>
                            <div class="row align-items-center">
                                <div class="col-12">
                                    <div class="form-item roww">
                                        <label for="name_channel_1">Channel 1</label>
                                        <input type="text" id="name_channel_1" name="name_channel_1" placeholder="Channel 1 name"/>
                                        <div class="select mt-1">
                                            <select id="channel_1"
                                                    name="channel_1">
                                                ${i ? `<option value="input" selected>Input</option>
                                                <option value="alarm">Alarm</option>
                                                <option value="evacuate">Evacuate</option>
                                                <option value="gas_alarm">GAS ALARM !</option>
                                                <option value="panic">PANIC !</option>` : `<option value="output" selected>Output</option>
                                                <option value="alarm">Alarm</option>
                                                <option value="evacuate">Evacuate</option>
                                                <option value="reset">Reset</option>
                                                <option value="sounder_mode">Sounder Mode</option>`}
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            ${!c ? `<div class="row align-items-center">
                                <div class="col-xs-12 col-sm-6">
                                    <div class="form-item roww">
                                        <label for="name_channel_2">Channel 2</label>
                                        <input type="text" id="name_channel_2" name="name_channel_2" placeholder="Channel 2 name"/>

                                        <div class="select mt-1">
                                            <select id="channel_2"
                                                    name="channel_2">
                                                ${i ? `<option value="input" selected>Input</option>
                                                <option value="alarm">Alarm</option>
                                                <option value="evacuate">Evacuate</option>
                                                <option value="gas_alarm">GAS ALARM !</option>
                                                <option value="panic">PANIC !</option>` : `<option value="output" selected>Output</option>
                                                <option value="alarm">Alarm</option>
                                                <option value="evacuate">Evacuate</option>
                                                <option value="reset">Reset</option>
                                                <option value="sounder_mode">Sounder Mode</option>`}
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row align-items-center">
                                <div class="col-xs-12 col-sm-6">
                                    <div class="form-item roww">
                                        <label for="name_channel_3">Channel 3</label>
                                        <input type="text" id="name_channel_3" name="name_channel_3" placeholder="Channel 3 name"/>

                                        <div class="select mt-1">
                                            <select id="channel_3"
                                                    name="channel_3">
                                                ${i && !o ? `<option value="input" selected>Input</option>
                                                <option value="alarm">Alarm</option>
                                                <option value="evacuate">Evacuate</option>
                                                <option value="gas_alarm">GAS ALARM !</option>
                                                <option value="panic">PANIC !</option>` : `<option value="output" selected>Output</option>
                                                <option value="alarm">Alarm</option>
                                                <option value="evacuate">Evacuate</option>
                                                <option value="reset">Reset</option>
                                                <option value="sounder_mode">Sounder Mode</option>`}
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row align-items-center">
                                <div class="col-xs-12 col-sm-6">
                                    <div class="form-item roww">
                                        <label for="name_channel_4">Channel 4</label>
                                        <input type="text" id="name_channel_4" name="name_channel_4" placeholder="Channel 4 name"/>

                                        <div class="select mt-1">
                                            <select id="channel_4"
                                                    name="channel_4">
                                                ${i && !o ? `<option value="input" selected>Input</option>
                                                <option value="alarm">Alarm</option>
                                                <option value="evacuate">Evacuate</option>
                                                <option value="gas_alarm">GAS ALARM !</option>
                                                <option value="panic">PANIC !</option>` : `<option value="output" selected>Output</option>
                                                <option value="alarm">Alarm</option>
                                                <option value="evacuate">Evacuate</option>
                                                <option value="reset">Reset</option>
                                                <option value="sounder_mode">Sounder Mode</option>`}
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>` : ''}
                        </fieldset>`}


                        <div class="buttons-row mt15">
                            <button type="button" class="btn-round btn-blue">Save</button>
                            <button type="button" class="btn-round btn-border-black">Back</button>
                        </div>`;
                var ttarget = `<fieldset>
                            <legend>Device</legend>
                            <div class="row">
                                <div class="col-12">
                                    <div class="form-item roww disabled">
                                        <label for="device_state">State</label>
                                        <div class="select">
                                            <select id="device_state"
                                                    name="device_state">
                                                <option value="none">NONE</option>
                                                <option value="normal" selected>NORMAL</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="form-item roww">
                                        <label for="name">Name</label>
                                        <input type="text" id="name" name="name" />
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="form-item roww disabled">
                                        <label for="serial_id">Serial ID</label>
                                        <input type="text" id="serial_id" name="serial_id" />
                                    </div>
                                </div>

                            </div>
                        </fieldset>

                        <fieldset>
                            <legend>RI Output/Group</legend>
                            <div class="row">
                                <div class="col-6">
                                    <div class="form-item roww">
                                        <label for="group_number">Group Number</label>
                                        <input class="ml10"
                                               type="number"
                                               id="group_number"
                                               name="group_number"
                                               data-maxlength="3"
                                               oninput="javascript: myFunction(this.id)"
                                               onblur="javascript: myFunction2(this.id)"
                                               value="0"
                                               min="0"
                                               max="100" />
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="form-item roww">
                                        <label for="activation">Activation</label>
                                        <input type="checkbox" id="activation" name="activation" class="ml10" />
                                    </div>
                                </div>
                            </div>
                        </fieldset>

                        <fieldset>
                            <legend>Parameters</legend>
                            <div class="row align-items-center">
                                <div class="${i ? 'col-xs-12 col-lg-4' : 'col-xs-12 col-lg-6'}">
                                    <div class="form-item roww">
                                        <label for="zone">Zone</label>
                                        <input class="ml10"
                                               type="number"
                                               id="zone"
                                               name="zone"
                                               data-maxlength="2"
                                               oninput="javascript: myFunction(this.id)"
                                               onblur="javascript: myFunction2(this.id)"
                                               placeholder="1"
                                               min="1"
                                               max="96" />
                                    </div>
                                </div>
                                ${i ? `<div class="col-xs-12 col-lg-4">
                                    <div class="form-item roww disabled">
                                        <label for="dust_level">Dust Level [%]</label>
                                        <input type="text" id="dust_level" name="dust_level" value="??" maxlength="4"/>
                                    </div>
                                </div>` : ''}
                                <div class="${i ? 'col-12 mt-2' : 'col'}">
                                    <div class="form-item roww">
                                        <label for="led">LED</label>
                                        <input type="checkbox" id="led" class="ml10" checked />
                                    </div>
                                </div>
                            </div>
                        </fieldset>


                        <fieldset>
                            <legend>Alarm Level</legend>
                            <div class="row">
                                <div class="col-6">
                                    <div class="form-item roww">
                                        <label for="day">Day</label>
                                        <div class="select">
                                            <select id="day"
                                                    name="day">
                                                <option value="a1r">A1R</option>
                                                <option value="a2s">A2S</option>
                                                <option value="bs">BS</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="form-item roww">
                                        <label for="night">Night</label>
                                        <div class="select">
                                            <select id="night"
                                                    name="night">
                                                <option value="a1r">A1R</option>
                                                <option value="a2s">A2S</option>
                                                <option value="bs">BS</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </fieldset>

                        <div class="buttons-row mt15">
                            <button type="button" class="btn-round btn-blue">Save</button>
                            <button type="button" class="btn-round btn-border-black">Back</button>
                        </div>`;
                switch (true) {
                    case id.includes("sensoIRIS_bstr_is"):
                    case id.includes("sensoIRIS_bstr"):
                    case id.includes("sensoIRIS_bsst_is"):
                    case id.includes("sensoIRIS_bsst"):
                    case id.includes("sensoIRIS_bsou_is"):
                    case id.includes("sensoIRIS_bsou"):
                    case id.includes("sensoIRIS_wstr_is"):
                    case id.includes("sensoIRIS_wstr"):
                    case id.includes("sensoIRIS_wsst_is"):
                    case id.includes("sensoIRIS_wsst"):
                    case id.includes("sensoIRIS_wsou_is"):
                    case id.includes("sensoIRIS_wsou"):
                    case id.includes("sensoIRIS_mout2402"):
                    case id.includes("sensoIRIS_mout2401"):
                    case id.includes("sensoIRIS_mout"):
                    case id.includes("sensoIRIS_mio22m"):
                    case id.includes("sensoIRIS_mio22"):
                    case id.includes("sensoIRIS_mio04"):
                    case id.includes("sensoIRIS_mio40"): el.innerHTML = proxy_target; break;
                    case id.includes("sensoIRIS_mimic"):
                    case id.includes("sounder_wsou"):
                    case id.includes("m22"):
                    case id.includes("callpoint_mcp50"):
                    case id.includes("sensoIRIS_mc-d"):
                    case id.includes("sensoIRIS_gas_sense"):
                    case id.includes("sensoIRIS_gas"):
                    case id.includes("sensoIRIS_mcp150"):
                    case id.includes("sensoIRIS_mcz"):
                    case id.includes("sensoIRIS_minp_panic"):
                    case id.includes("sensoIRIS_minp_fire"):
                    case id.includes("sensoIRIS_minp"): el.innerHTML = target; break;

                    default: el.innerHTML = ttarget; break;
                }
            }

            var lst2 = [];
            const devices2 = 250;
            function addConcreteDevice2(id, loop_id) {
                for (i = 1; i <= devices2; i++) {
                    if (lst2.includes(i)) {
                        continue;
                    } else {
                        var last = i;
                        break;
                    }
                }
                if (lst2.includes(parseInt(+id))) {
                    var elem = document.querySelector(`[id $= ${loop_id}_${+id}]`);
                    if (elem) elem.parentNode.removeChild(elem);
                    lst2 = lst2.filter(function (item) {
                        return item !== +id
                    })

                    let button = document.getElementById(`device_btn_${loop_id}`);
                    if (lst2.length < devices2 && button.style.display === "none") {
                        button.style.display = "inline-flex";
                    }
                }
                else {
                    let imgSource = "../../Images/";
                    let link = id.split("_");
                    let curr = link.splice(link.length - 1)[0];
                    link = link.join("_");
                    let title = link.toUpperCase().replaceAll("_", " ");


                    switch (link) {
                        case "sounder_wsou": imgSource += "1059. Sounder WSOU.ico"; break;
                        case "m22": imgSource += "1058. IRIS M22_IRIS Zone.ico"; break;
                        case "sensoIRIS_mc-d": imgSource += "68.SensoIRIS_address_base.ico"; break;
                        case "sensoIRIS_gas_sense":
                        case "sensoIRIS_gas": imgSource += "1081.SensoIRIS_GAS.ico"; break;
                        case "sensoIRIS_bstr_is":
                        case "sensoIRIS_bstr":
                        case "sensoIRIS_bsstis":
                        case "sensoIRIS_bsst":
                        case "sensoIRIS_bsou_is":
                        case "sensoIRIS_bsou": imgSource += "BSOU-600x460.png"; break;
                        case "sensoIRIS_wsst_is":
                        case "sensoIRIS_wsst": imgSource += "75.SensoIRIS_wsst.ico"; break;
                        case "sensoIRIS_wstr_is":
                        case "sensoIRIS_wstr":
                        case "sensoIRIS_wsou_is":
                        case "sensoIRIS_wsou": imgSource += "72.SensoIRIS_WSOU.ico"; break;
                        case "sensoIRIS_minp_gas":
                        case "sensoIRIS_minp_fire":
                        case "sensoIRIS_minp": imgSource += "1080.MINP.ico"; break;
                        case "callpoint_mcp50":
                        case "sensoIRIS_mcp150": imgSource += "1027. Call Point (IRIS).ico"; break;
                        case "sensoIRIS_mimic":
                        case "sensoIRIS_mcz":
                        case "sensoIRIS_mout2401":
                        case "sensoIRIS_mout":
                        case "sensoIRIS_mio22m":
                        case "sensoIRIS_mio22":
                        case "sensoIRIS_mio04":
                        case "sensoIRIS_mio40": imgSource += "69.SensoIRIS_Module_box.ico"; break;
                        case "sensoIRIS_m140_is":
                        case "sensoIRIS_m140": imgSource += "71.SensoIRIS_M140.ico"; break;
                        default: imgSource += "70.SensoIRIS_T110_S130.ico";
                    }
                    const newUserElement = `
                                                    <div class="col-12" id='${loop_id}_${last}'>
                                                        <div class="row">
                                                            <div class="col-11 pr-1">
                                                                <a href="javascript:showDevice2('${link}_${last}', '${loop_id}')" onclick="javascript:addActive('#selected_device')" >
                                                                    <div class="btnStyle">
                                                                        <img src="${imgSource}" alt="" width="25" height="25" class="m15" />
                                                                        <div class="someS">
                                                                            <h5>${last + '. ' + title}</h5>
                                                                        </div>
                                                                    </div>
                                                                </a>
                                                            </div>
                                                            <div class="col-1 p-0 m-0" onclick="javascript:addConcreteDevice2(${last}, '${loop_id}')">
                                                                <i class="fa-solid fa-xmark"></i>
                                                            </div>
                                                        </div>
                                                    </div>
                                                                `;
                    var element = document.getElementById(`new_device_${loop_id}`);
                    var new_inner = `
                                                    ${element.innerHTML}
                                                    ${newUserElement}
                                                `;
                    lst2.push(last);
                    element.innerHTML = new_inner;

                    // reordering
                    var main = document.getElementById(`new_device_${loop_id}`);

                    [].map.call(main.children, Object).sort(function (a, b) {
                        return +a.id.match(/\d+$/) - +b.id.match(/\d+$/);
                    }).forEach(function (elem) {
                        main.appendChild(elem);
                    });

                    // button display check
                    if (lst2.length === devices2) {
                        let button = document.getElementById(`device_btn_${loop_id}`);
                        button.style.display = "none";
                    }
                    $(`#deviceList_${loop_id}`).modal('toggle');
                }
            }
        </script>
    </div>
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.6.0.js"
            integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/da39e5d130.js" crossorigin="anonymous"></script>
    <!-- DatePicker Script -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
    <script>

        function sendMessage(bc) {
            CefSharp.PostMessage(bc);
        }
            //$(document).ready(() => {
            //    sendMessage("Devices|ECLIPSE|Timeslots");
            //});
    </script>
</body>
</html>
