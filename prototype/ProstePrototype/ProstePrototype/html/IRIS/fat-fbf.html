<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../boostrap.css" />
    <link rel="stylesheet" href="../imports/css/all.css" />
    <link rel="stylesheet" href="../IRIS.css" />
    <title>Teletek Manager</title>
</head>
<body>

    <div class="container" id="divMain">
        <!-- IMPORTANT When disable input, put class .disabled in the .form-item class -->
        <button class="fire collapsible">Door switch input</button>
        <div class="collapsible-content">
            <div class="form-item roww p-0">
                <label for="state">State</label>
                <div class="select">
                    <select id="state"
                            name="state"
                            onchange="javascript: loadDiv(this, 'doorSwitchInput', this.value)">
                        <option value="0">NONE</option>
                        <option value="1dsi">LOOP_DEVICE</option>
                    </select>
                </div>
            </div>

            <div id="doorSwitchInput"></div>

            <div style="display: none" id="1dsi">
                <fieldset>
                    <legend>Loop Type</legend>

                    <div id="showLoop" class="row align-items-center">
                        <div class="col">
                            <div class="form-item roww">
                                <label for="dev_addr_loop">Loop</label>
                                <input type="number"
                                       id="dev_addr_loop"
                                       name="dev_addr_loop"
                                       data-maxlength="1"
                                       oninput="javascript: myFunction(this.id)"
                                       onblur="javascript: myFunction2(this.id)"
                                       value="1"
                                       min="1"
                                       max="4" />
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-item roww">
                                <label for="dev_channel">Channel</label>
                                <input type="number"
                                       id="dev_channel"
                                       name="dev_channel"
                                       data-maxlength="1"
                                       oninput="javascript: myFunction(this.id)"
                                       onblur="javascript: myFunction2(this.id)"
                                       value="1"
                                       min="1"
                                       max="4" />
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-item roww">
                                <label for="dev_addr">Device address</label>
                                <input type="number"
                                       id="dev_addr"
                                       name="dev_addr"
                                       data-maxlength="3"
                                       oninput="javascript: myFunction(this.id)"
                                       onblur="javascript: myFunction2(this.id)"
                                       value="1"
                                       min="1"
                                       max="250" />
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>
        </div>

        <button class="fire collapsible">Dialer ACK input</button>
        <div class="collapsible-content">
            <div class="form-item roww p-0">
                <label for="state">State</label>
                <div class="select">
                    <select id="state"
                            name="state"
                            onchange="javascript: loadDiv(this, 'dialerACKinput', this.value)">
                        <option value="0">NONE</option>
                        <option value="1dacki">LOOP_DEVICE</option>
                    </select>
                </div>
            </div>

            <div id="dialerACKinput"></div>

            <div style="display: none" id="1dacki">
                <fieldset>
                    <legend>Loop Type</legend>

                    <div id="showLoop" class="row align-items-center">
                        <div class="col">
                            <div class="form-item roww">
                                <label for="dev_addr_loop">Loop</label>
                                <input type="number"
                                       id="dev_addr_loop"
                                       name="dev_addr_loop"
                                       data-maxlength="1"
                                       oninput="javascript: myFunction(this.id)"
                                       onblur="javascript: myFunction2(this.id)"
                                       value="1"
                                       min="1"
                                       max="4" />
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-item roww">
                                <label for="dev_channel">Channel</label>
                                <input type="number"
                                       id="dev_channel"
                                       name="dev_channel"
                                       data-maxlength="1"
                                       oninput="javascript: myFunction(this.id)"
                                       onblur="javascript: myFunction2(this.id)"
                                       value="1"
                                       min="1"
                                       max="4" />
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-item roww">
                                <label for="dev_addr">Device address</label>
                                <input type="number"
                                       id="dev_addr"
                                       name="dev_addr"
                                       data-maxlength="3"
                                       oninput="javascript: myFunction(this.id)"
                                       onblur="javascript: myFunction2(this.id)"
                                       value="1"
                                       min="1"
                                       max="250" />
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>
        </div>

        <button class="fire collapsible">Dialer fault input</button>
        <div class="collapsible-content">
            <div class="form-item roww p-0">
                <label for="state">State</label>
                <div class="select">
                    <select id="state"
                            name="state"
                            onchange="javascript: loadDiv(this, 'dialerFaultInput', this.value)">
                        <option value="0">NONE</option>
                        <option value="1dfi">LOOP_DEVICE</option>
                    </select>
                </div>
            </div>

            <div id="dialerFaultInput"></div>

            <div style="display: none" id="1dfi">
                <fieldset>
                    <legend>Loop Type</legend>

                    <div id="showLoop" class="row align-items-center">
                        <div class="col">
                            <div class="form-item roww">
                                <label for="dev_addr_loop">Loop</label>
                                <input type="number"
                                       id="dev_addr_loop"
                                       name="dev_addr_loop"
                                       data-maxlength="1"
                                       oninput="javascript: myFunction(this.id)"
                                       onblur="javascript: myFunction2(this.id)"
                                       value="1"
                                       min="1"
                                       max="4" />
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-item roww">
                                <label for="dev_channel">Channel</label>
                                <input type="number"
                                       id="dev_channel"
                                       name="dev_channel"
                                       data-maxlength="1"
                                       oninput="javascript: myFunction(this.id)"
                                       onblur="javascript: myFunction2(this.id)"
                                       value="1"
                                       min="1"
                                       max="4" />
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-item roww">
                                <label for="dev_addr">Device address</label>
                                <input type="number"
                                       id="dev_addr"
                                       name="dev_addr"
                                       data-maxlength="3"
                                       oninput="javascript: myFunction(this.id)"
                                       onblur="javascript: myFunction2(this.id)"
                                       value="1"
                                       min="1"
                                       max="250" />
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>
        </div>

        <button class="fire collapsible">Door unlock output</button>
        <div class="collapsible-content">
            <div class="form-item roww p-0">
                <label for="state">State</label>
                <div class="select">
                    <select id="state"
                            name="state"
                            onchange="javascript: loadDiv(this, 'doorUnlockOutput', this.value)">
                        <option value="0">NONE</option>
                        <option value="1pdduo">PERIPHERY DEVICE</option>
                        <option value="1ldduo">LOOP DEVICE</option>
                    </select>
                </div>
            </div>

            <div id="doorUnlockOutput"></div>

            <div style="display: none" id="1ldduo">
                <fieldset>
                    <legend>Loop Type</legend>

                    <div id="showLoop" class="row align-items-center">
                        <div class="col">
                            <div class="form-item roww">
                                <label for="dev_addr_loop">Loop</label>
                                <input type="number"
                                       id="dev_addr_loop"
                                       name="dev_addr_loop"
                                       data-maxlength="1"
                                       oninput="javascript: myFunction(this.id)"
                                       onblur="javascript: myFunction2(this.id)"
                                       value="1"
                                       min="1"
                                       max="4" />
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-item roww">
                                <label for="dev_channel">Channel</label>
                                <input type="number"
                                       id="dev_channel"
                                       name="dev_channel"
                                       data-maxlength="1"
                                       oninput="javascript: myFunction(this.id)"
                                       onblur="javascript: myFunction2(this.id)"
                                       value="1"
                                       min="1"
                                       max="4" />
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-item roww">
                                <label for="dev_addr">Device address</label>
                                <input type="number"
                                       id="dev_addr"
                                       name="dev_addr"
                                       data-maxlength="3"
                                       oninput="javascript: myFunction(this.id)"
                                       onblur="javascript: myFunction2(this.id)"
                                       value="1"
                                       min="1"
                                       max="250" />
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>

            <div style="display: none" id="1pdduo">
                <div class="row align-items-center">
                    <div class="col">
                        <div class="form-item roww">
                            <label for="peripherial_device_address">Peripherial device address</label>
                            <input type="number"
                                   id="peripherial_device_address"
                                   name="peripherial_device_address"
                                   data-maxlength="1"
                                   oninput="javascript: myFunction(this.id)"
                                   onblur="javascript: myFunction2(this.id)"
                                   value="0"
                                   min="0"
                                   max="6" />
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-item roww">
                            <label for="peripherial_device_output">Peripherial device output</label>
                            <input type="number"
                                   id="peripherial_device_output"
                                   name="peripherial_device_output"
                                   data-maxlength="2"
                                   oninput="javascript: myFunction(this.id)"
                                   onblur="javascript: myFunction2(this.id)"
                                   value="0"
                                   min="0"
                                   max="24" />
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <button class="fire collapsible">Fire alarm output</button>
        <div class="collapsible-content">
            <div class="form-item roww p-0">
                <label for="state">State</label>
                <div class="select">
                    <select id="state"
                            name="state"
                            onchange="javascript: loadDiv(this, 'fireAlarmOutput', this.value)">
                        <option value="0">NONE</option>
                        <option value="1pdfao">PERIPHERY DEVICE</option>
                        <option value="1ldfao">LOOP DEVICE</option>
                    </select>
                </div>
            </div>

            <div id="fireAlarmOutput"></div>

            <div style="display: none" id="1ldfao">
                <fieldset>
                    <legend>Loop Type</legend>

                    <div id="showLoop" class="row align-items-center">
                        <div class="col">
                            <div class="form-item roww">
                                <label for="dev_addr_loop">Loop</label>
                                <input type="number"
                                       id="dev_addr_loop"
                                       name="dev_addr_loop"
                                       data-maxlength="1"
                                       oninput="javascript: myFunction(this.id)"
                                       onblur="javascript: myFunction2(this.id)"
                                       value="1"
                                       min="1"
                                       max="4" />
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-item roww">
                                <label for="dev_channel">Channel</label>
                                <input type="number"
                                       id="dev_channel"
                                       name="dev_channel"
                                       data-maxlength="1"
                                       oninput="javascript: myFunction(this.id)"
                                       onblur="javascript: myFunction2(this.id)"
                                       value="1"
                                       min="1"
                                       max="4" />
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-item roww">
                                <label for="dev_addr">Device address</label>
                                <input type="number"
                                       id="dev_addr"
                                       name="dev_addr"
                                       data-maxlength="3"
                                       oninput="javascript: myFunction(this.id)"
                                       onblur="javascript: myFunction2(this.id)"
                                       value="1"
                                       min="1"
                                       max="250" />
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>

            <div style="display: none" id="1pdfao">
                <div class="row align-items-center">
                    <div class="col">
                        <div class="form-item roww">
                            <label for="peripherial_device_address">Peripherial device address</label>
                            <input type="number"
                                   id="peripherial_device_address"
                                   name="peripherial_device_address"
                                   data-maxlength="1"
                                   oninput="javascript: myFunction(this.id)"
                                   onblur="javascript: myFunction2(this.id)"
                                   value="0"
                                   min="0"
                                   max="6" />
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-item roww">
                            <label for="peripherial_device_output">Peripherial device output</label>
                            <input type="number"
                                   id="peripherial_device_output"
                                   name="peripherial_device_output"
                                   data-maxlength="2"
                                   oninput="javascript: myFunction(this.id)"
                                   onblur="javascript: myFunction2(this.id)"
                                   value="0"
                                   min="0"
                                   max="24" />
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <button class="fire collapsible">Panel fault output</button>
        <div class="collapsible-content">
            <div class="form-item roww p-0">
                <label for="state">State</label>
                <div class="select">
                    <select id="state"
                            name="state"
                            onchange="javascript: loadDiv(this, 'panelFaultOutput', this.value)">
                        <option value="0">NONE</option>
                        <option value="1pdpfo">PERIPHERY DEVICE</option>
                        <option value="1ldpfo">LOOP DEVICE</option>
                    </select>
                </div>
            </div>

            <div id="panelFaultOutput"></div>

            <div style="display: none" id="1ldpfo">
                <fieldset>
                    <legend>Loop Type</legend>

                    <div id="showLoop" class="row align-items-center">
                        <div class="col">
                            <div class="form-item roww">
                                <label for="dev_addr_loop">Loop</label>
                                <input type="number"
                                       id="dev_addr_loop"
                                       name="dev_addr_loop"
                                       data-maxlength="1"
                                       oninput="javascript: myFunction(this.id)"
                                       onblur="javascript: myFunction2(this.id)"
                                       value="1"
                                       min="1"
                                       max="4" />
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-item roww">
                                <label for="dev_channel">Channel</label>
                                <input type="number"
                                       id="dev_channel"
                                       name="dev_channel"
                                       data-maxlength="1"
                                       oninput="javascript: myFunction(this.id)"
                                       onblur="javascript: myFunction2(this.id)"
                                       value="1"
                                       min="1"
                                       max="4" />
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-item roww">
                                <label for="dev_addr">Device address</label>
                                <input type="number"
                                       id="dev_addr"
                                       name="dev_addr"
                                       data-maxlength="3"
                                       oninput="javascript: myFunction(this.id)"
                                       onblur="javascript: myFunction2(this.id)"
                                       value="1"
                                       min="1"
                                       max="250" />
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>

            <div style="display: none" id="1pdpfo">
                <div class="row align-items-center">
                    <div class="col">
                        <div class="form-item roww">
                            <label for="peripherial_device_address">Peripherial device address</label>
                            <input type="number"
                                   id="peripherial_device_address"
                                   name="peripherial_device_address"
                                   data-maxlength="1"
                                   oninput="javascript: myFunction(this.id)"
                                   onblur="javascript: myFunction2(this.id)"
                                   value="0"
                                   min="0"
                                   max="6" />
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-item roww">
                            <label for="peripherial_device_output">Peripherial device output</label>
                            <input type="number"
                                   id="peripherial_device_output"
                                   name="peripherial_device_output"
                                   data-maxlength="2"
                                   oninput="javascript: myFunction(this.id)"
                                   onblur="javascript: myFunction2(this.id)"
                                   value="0"
                                   min="0"
                                   max="24" />
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <button class="fire collapsible">Sabotage output</button>
        <div class="collapsible-content">
            <div class="form-item roww p-0">
                <label for="state">State</label>
                <div class="select">
                    <select id="state"
                            name="state"
                            onchange="javascript: loadDiv(this, 'sabotageOutput', this.value)">
                        <option value="0">NONE</option>
                        <option value="1pdso">PERIPHERY DEVICE</option>
                        <option value="1ldso">LOOP DEVICE</option>
                    </select>
                </div>
            </div>

            <div id="sabotageOutput"></div>

            <div style="display: none" id="1ldso">
                <fieldset>
                    <legend>Loop Type</legend>

                    <div id="showLoop" class="row align-items-center">
                        <div class="col">
                            <div class="form-item roww">
                                <label for="dev_addr_loop">Loop</label>
                                <input type="number"
                                       id="dev_addr_loop"
                                       name="dev_addr_loop"
                                       data-maxlength="1"
                                       oninput="javascript: myFunction(this.id)"
                                       onblur="javascript: myFunction2(this.id)"
                                       value="1"
                                       min="1"
                                       max="4" />
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-item roww">
                                <label for="dev_channel">Channel</label>
                                <input type="number"
                                       id="dev_channel"
                                       name="dev_channel"
                                       data-maxlength="1"
                                       oninput="javascript: myFunction(this.id)"
                                       onblur="javascript: myFunction2(this.id)"
                                       value="1"
                                       min="1"
                                       max="4" />
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-item roww">
                                <label for="dev_addr">Device address</label>
                                <input type="number"
                                       id="dev_addr"
                                       name="dev_addr"
                                       data-maxlength="3"
                                       oninput="javascript: myFunction(this.id)"
                                       onblur="javascript: myFunction2(this.id)"
                                       value="1"
                                       min="1"
                                       max="250" />
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>

            <div style="display: none" id="1pdso">
                <div class="row align-items-center">
                    <div class="col">
                        <div class="form-item roww">
                            <label for="peripherial_device_address">Peripherial device address</label>
                            <input type="number"
                                   id="peripherial_device_address"
                                   name="peripherial_device_address"
                                   data-maxlength="1"
                                   oninput="javascript: myFunction(this.id)"
                                   onblur="javascript: myFunction2(this.id)"
                                   value="0"
                                   min="0"
                                   max="6" />
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-item roww">
                            <label for="peripherial_device_output">Peripherial device output</label>
                            <input type="number"
                                   id="peripherial_device_output"
                                   name="peripherial_device_output"
                                   data-maxlength="2"
                                   oninput="javascript: myFunction(this.id)"
                                   onblur="javascript: myFunction2(this.id)"
                                   value="0"
                                   min="0"
                                   max="24" />
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--<div class="buttons-row mt15">
            <button type="button" class="btn-round btn-blue">Save</button>
            <button type="button" class="btn-round btn-border-black">Back</button>
        </div>-->
        <script>
            function myFunction(id) {
                var element = document.getElementById(id);
                element.value = element.value.slice(0, element.dataset.maxlength);
            }
            function myFunction2(id) {
                var element = document.getElementById(id);
                if (+element.value > +element.max) {
                    element.value = element.max;
                }
            }
            function loadDiv(it, id, value) {
                var element = document.getElementById(value);
                var addElement = document.getElementById(id);
                
                switch (value) {
                    case "0":
                        addElement.innerHTML = "";
                        break;
                    default:
                        addElement.innerHTML = element.innerHTML;
                        break;
                }
                var addElementHeight = addElement.scrollHeight;
                var content = it.parentNode.parentNode.parentNode;
                if (content.classList.contains("collapsible-content")) {
                    content.style.maxHeight = content.scrollHeight + addElementHeight + "px";
                }
                addVisitedBackground();
                //console.log(id, value, //'element', element.innerHTML, 
                //    'document.getElementById(id)', addElement,
                //    'addElementHeight', addElementHeight, 'content', content);
            }
        </script>
    </div>

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="../imports/jquery-3.6.0.js"></script>
    <script src="../imports/popper.min.js"></script>
    <script src="../imports/boostrap@4.3.1.min.js"></script>
    <script src="../imports/bootstrap-datepicker.min.js"></script>
    <script src="../imports/font-awesome.js"></script>
    <script src="../imports/mainfuncs.js"></script>
    <script>
        var js = `{
  "IRIS8_FAT_FBF_IN1": {
    "@MIN": "1",
    "@MAX": "1",
    "@LNGID": "e691bb18-d98c-40eb-b3d9-cf82ab964e41",
    "~path": "ELEMENTS.iris_fat_fbf.CONTAINS.IRIS8_FAT_FBF_IN1"
  },
  "IRIS8_FAT_FBF_IN2": {
    "@MIN": "1",
    "@MAX": "1",
    "@LNGID": "3177872e-5e97-4904-afa8-10b6e7fa3866",
    "~path": "ELEMENTS.iris_fat_fbf.CONTAINS.IRIS8_FAT_FBF_IN2"
  },
  "IRIS8_FAT_FBF_IN3": {
    "@MIN": "1",
    "@MAX": "1",
    "@LNGID": "98e40b13-cec2-4967-8f1c-383534219423",
    "~path": "ELEMENTS.iris_fat_fbf.CONTAINS.IRIS8_FAT_FBF_IN3"
  },
  "IRIS8_FAT_FBF_OUT1": {
    "@MIN": "1",
    "@MAX": "1",
    "@LNGID": "3bbcf70f-aa11-4262-8b44-ebeaa3abfcde",
    "~path": "ELEMENTS.iris_fat_fbf.CONTAINS.IRIS8_FAT_FBF_OUT1"
  },
  "IRIS8_FAT_FBF_OUT2": {
    "@MIN": "1",
    "@MAX": "1",
    "@LNGID": "ac99804b-35e6-40ac-b655-ee398c29e400",
    "~path": "ELEMENTS.iris_fat_fbf.CONTAINS.IRIS8_FAT_FBF_OUT2"
  },
  "IRIS8_FAT_FBF_OUT3": {
    "@MIN": "1",
    "@MAX": "1",
    "@LNGID": "622e2f19-ee13-49bd-b6e6-824d64a36dbb",
    "~path": "ELEMENTS.iris_fat_fbf.CONTAINS.IRIS8_FAT_FBF_OUT3"
  },
  "IRIS8_FAT_FBF_OUT4": {
    "@MIN": "1",
    "@MAX": "1",
    "@LNGID": "1f7502d3-8881-4aae-a72b-6aa9c53522d2",
    "~path": "ELEMENTS.iris_fat_fbf.CONTAINS.IRIS8_FAT_FBF_OUT4"
  },
  "~path": "ELEMENTS.iris_fat_fbf.CONTAINS"
}`;
        receiveMessageWPF(js)
    </script>
</body>
</html>
